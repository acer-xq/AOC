f=a=>a.map(v=>(w=(v=v.split` | `)[0].split` `.map(x=>[...x].sort()),b=[,(g=p=>w.find(x=>x.length==p))(2),,,g(4),,,g(3),g(7)],b[3]=(h=(p,q,r,s)=>w.find(x=>x.length==p&&(q?r:x).every(y=>(q?x:r).includes(y))^!!s))(5,1,b[1],0),b[6]=h(6,1,b[1],1),b[5]=h(5,0,b[6],0),b[0]=h(6,1,b[5],1),b[9]=h(6,1,b[3],0),b[2]=h(5,0,b[9],1),+v[1].split` `.map(x=>b.map(y=>y+"").indexOf([...x].sort()+"")).join``)).reduce((x,y)=>x+y)
console.log(f(require('fs').readFileSync('./input.txt', 'utf8').split('\r\n')))